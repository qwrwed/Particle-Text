<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Particle Text Demonstration</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.js"></script>
	<script src="Vehicle.js"></script>
	<script src="particle-text.js"></script>
</head>

<body>
	<script type="application/javascript">
	//required setup variables:
	let bounds = [1000, 500];
	let font;


	function preload(){
		font = loadFont('AvenirNextLTPro-Demi.otf');
	}


	let count = 0;
	let alphaString = String.fromCharCode(65 + count);
	let startTime, currTime;
	let texts = [];
	function setup() {
		createCanvas(bounds[0], bounds[1]);
		background(51);

        startTime = new Date();

		//add particle strings/clocks below:
        clockTitlePS = new ParticleString("Particle Text", font, {y : height/6});
        clock = new ParticleClock(font, {});
        a = new ParticleString(alphaString, font, {x : 700, y : 100});


		//ps2 = new ParticleString("Hello, world!", font, {x : width*0.2, y : height*0.8});


		
		
		
		for (var i = 1; i < 10 ; i += 3) {
			//texts.push(new ParticleString("test", font, {x : 50*i, y : 100, fontSize : i*10}));
		}
	}
		
	function draw() {
        currTime = new Date();
        timeDiff = (currTime - startTime)/1000;
	    if (timeDiff > 1){
            startTime = new Date();
            count = (count + 1) % 26;
            alphaString = String.fromCharCode(65 + count);
            a.updateText(alphaString);
        }


	    let blur_percent = 75;
	    background(51, 255 *(1 - blur_percent/100));

	    //add draw functions for created particle strings/clocks below:
		clock.draw();
        clockTitlePS.draw();
		a.draw();
		//ps2.draw();
		
		for (var i = 0; i < texts.length ; i++) {
			//texts[i].draw();
		}
	}

	/*
	function windowResized() {
		resizeCanvas(bounds[0], bounds[1]);
	}
	*/
	
	</script>
</body>

</html>
